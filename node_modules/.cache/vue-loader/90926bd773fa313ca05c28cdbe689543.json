{"remainingRequest":"C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\src\\views\\Home.vue","mtime":1605012199817},{"path":"C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Тагир\\Desktop\\project\\tableProject\\yandexMapApp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHlhbmRleE1hcCwgbG9hZFltYXAsIHltYXBNYXJrZXIgfSBmcm9tICd2dWUteWFuZGV4LW1hcHMnOwppbXBvcnQgeyBkZWJvdW5jZSwgc29ydEJ5IH0gZnJvbSAnbG9kYXNoJzsKLy8gaW1wb3J0IHsgbm90aWZpY2F0aW9uIH0gZnJvbSAnYW50LWRlc2lnbi12dWUnOwppbXBvcnQgbWthZEFycmF5IGZyb20gJy4vbWthZCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyB5YW5kZXhNYXAsIHltYXBNYXJrZXIgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3B0OiAwLjQsCiAgICAgIGNvb3JkczogW10sCiAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgIHBvbHlnb246IG1rYWRBcnJheSwKICAgICAgZ2xvYmFsTWFwOiBudWxsLAogICAgICByb3V0ZTogbnVsbCwKICAgICAgYWlyUm91dGU6IG51bGwsCiAgICAgIHpvb206IDEyLAogICAgICBwb2ludHM6IDUsCiAgICAgIHRlc3RQb2ludHM6IHt9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIG5vdGlmaWNhdGlvbiwKICAgIGRlYm91bmNlLAogICAgYXN5bmMgb25DbGljayhlKSB7CiAgICAgIHRoaXMuY29vcmRzID0gZS5nZXQoJ2Nvb3JkcycpOwogICAgICAvLyB0aGlzLm9wZW5Ob3RpZmljYXRpb24oKTsKICAgICAgdGhpcy5nZXRBZHJlc3MoKTsKICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgIGNvbnN0IGNsb3Nlc3REaXN0YW5jZSA9IGF3YWl0IHRoaXMuY2FsY0Nsb3Nlc3REaXN0YW5jZShlKTsKICAgICAgY29uc3QgZmlyc3RDb29yZHMgPSB0aGlzLnNldFJvdXRlKGUsIGNsb3Nlc3REaXN0YW5jZSk7CiAgICAgIC8vIGNvbnN0IGNhbGNDb29yZHMgPQogICAgICB0aGlzLmdldERpc3RQcm9jY2VzcyhmaXJzdENvb3JkcywgZSk7CiAgICAgIGNvbnNvbGUubG9nKCcxOiAnLCB0aGlzLnRlc3RQb2ludHMpOwogICAgICB0aGlzLmdldEluZm8oKTsKICAgICAgLy8gdGhpcy5yb3V0ZUNhckRpc3RhbmNlKGUsIGNhbGNDb29yZHNbMF0uY2FyQ29vcmQpOwogICAgICAvLyBjb25zb2xlLmxvZygnMjogJywgY2FsY0Nvb3Jkcy5haXJDb29yZCk7CiAgICAgIC8vIHRoaXMucm91dGVBaXJEaXN0YW5jZShlLCBjYWxjQ29vcmRzWzBdLmFpckNvb3JkKTsKICAgICAgLy8gY29uc29sZS5sb2coJzMnKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgZ2V0SW5mbygpIHsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgJ9C60L7QvtGA0LTQuNC90LDRgtGLOiAgJywgdGhpcy5jb29yZHMsICdcbicsCiAgICAgICAgJ9C60L7QvtGA0LTQuNC90LDRgtGLINCx0LvQuNC20LDQudGI0LXQuSDQv9C+INC30LXQvNC70LU6ICAnLCB0aGlzLnRlc3RQb2ludHMuY2FyQ29vcmQsICdcbicsCiAgICAgICAgJ9C60L7QvtGA0LTQuNC90LDRgtGLINCx0LvQuNC20LDQudGI0LXQuSDQv9C+INCy0L7Qt9C00YPRhdGDOiAgJywgdGhpcy50ZXN0UG9pbnRzLmFpckNvb3JkLCAnXG4nLAogICAgICAgICfQtNC40YHRgtCw0L3RhtC40Y8g0L/QviDQt9C10LzQu9C1OiAgICcsIHRoaXMudGVzdFBvaW50cy5haXJEaXN0YW5jZSwgJ1xuJywKICAgICAgICAn0LTQuNGB0YLQsNC90YbQuNGPINC/0L4g0LLQvtC30LTRg9GF0YM6ICAgJywgdGhpcy50ZXN0UG9pbnRzLmNhckRpc3RhbmNlLCAnXG4nLAogICAgICAgICfQsNC00YDQtdGBOiAgICcsIHRoaXMudGVzdFBvaW50cy5hZGRyZXNzLAogICAgICApOwogICAgfSwKICAgIC8qINGB0L7RhdGA0LDQvdC10L3QuNC1INC60LDRgNGC0Ysg0LIg0L/QtdGA0LXQvNC10L3QvdGD0Y4gKi8KICAgIGluaXRNYXAobWFwKSB7CiAgICAgIHRoaXMuZ2xvYmFsTWFwID0gbWFwOwogICAgfSwKICAgIC8qINC30LDQs9GA0YPQt9C60LAg0LzQvtC00YPQu9GPIHlhbmRleCBhcGkgdnVlINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEgeW1hcHMgKi8KICAgIGFzeW5jIGdlb2NvZGVyKCkgewogICAgICBhd2FpdCBsb2FkWW1hcCgpOwogICAgfSwKICAgIC8qINC/0L7Qu9GD0YfQtdC90LjQtSDQsNC00YDQtdGB0LAg0L/QviDQutC+0L7RgNC00LjQvdCw0YLQsNC8ICovCiAgICBhc3luYyBnZXRBZHJlc3MoKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICB5bWFwcy5nZW9jb2RlKHRoaXMuY29vcmRzKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuYWRkcmVzcyA9IHJlcy5nZW9PYmplY3RzLmdldCgwKQogICAgICAgICAgICAuZ2V0QWRkcmVzc0xpbmUoKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvKiDRgNCw0YHRh9C10YIg0LHQu9C40LbQsNC50YjQtdCz0L4g0YDQsNGB0YHRgtC+0Y/QvdC40Y8g0L/QviDQstC+0LfQtNGD0YXRgyAqLwogICAgY2FsY0Nsb3Nlc3REaXN0YW5jZShlKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRQb2ludCA9IGUuZ2V0KCdjb29yZHMnKTsKICAgICAgY29uc3Qgb2JqZWN0ID0gW107CiAgICAgIHRoaXMucG9seWdvbi5mb3JFYWNoKGFzeW5jIChjb29yZHMpID0+IHsKICAgICAgICBjb25zdCByID0gNjM3MTsgLy8g0KDQsNC00LjRg9GBINC30LXQvNC70LgKICAgICAgICBjb25zdCBkTGF0ID0gKGN1cnJlbnRQb2ludFswXS50b0ZpeGVkKDYpIC0gY29vcmRzWzBdKSAqIChNYXRoLlBJIC8gMTgwKTsKICAgICAgICBjb25zdCBkTG9uID0gKGN1cnJlbnRQb2ludFsxXS50b0ZpeGVkKDYpIC0gY29vcmRzWzFdKSAqIChNYXRoLlBJIC8gMTgwKTsKICAgICAgICBjb25zdCBhID0gTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW4KICAgICAgICAgICAgICAgICAgKyBNYXRoLmNvcyhjb29yZHNbMF0gKiAoTWF0aC5QSSAvIDE4MCkpICogTWF0aC5jb3MoY3VycmVudFBvaW50WzBdICogKE1hdGguUEkgLyAxODApKQogICAgICAgICAgICAgICAgICAqIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTsKICAgICAgICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTsKICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHIgKiBjOwogICAgICAgIG9iamVjdC5wdXNoKHsgZGlzdGFuY2UsIGNvb3JkcyB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBvYmplY3Q7CiAgICB9LAogICAgLyog0YDQsNGB0YfQtdGCINCx0LvQuNC20LDQudGI0LXQs9C+INGA0LDRgdGB0YLQvtGP0L3QuNGPINC/0L4g0LfQtdC80LvQtSAqLwogICAgYXN5bmMgY2FsY0Rpc3RhbmNlKGUsIGNvb3JkcykgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgY29uc3QgZGlzID0gYXdhaXQgeW1hcHMucm91dGUoW2UuZ2V0KCdjb29yZHMnKSwgY29vcmRzXSk7CiAgICAgIHJldHVybiBkaXMuZ2V0TGVuZ3RoKCk7CiAgICB9LAogICAgLyog0LLRi9Cx0L7RgCBuKHBvaW50KSDQsdC70LjQttCw0LnRiNC40YUg0YLQvtGH0LXQuiAqLwogICAgc2V0Um91dGUoZSwgZGlzdGFuY2VzKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IHNvcnRCeShkaXN0YW5jZXMsICdkaXN0YW5jZScpLnNsaWNlKDAsIHRoaXMucG9pbnRzKTsKICAgICAgdGhpcy50ZXN0UG9pbnRzLmFpckRpc3RhbmNlID0gcmVzdWx0WzBdLmRpc3RhbmNlICogMTAwMDsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICAvKiDQstGL0LHQvtGAIDIg0LHQu9C40LbQsNC50YjQuNGFINGC0L7Rh9C10Lo6INC00LvRjyDRgNCw0YHRh9C10YLQsCDQv9C+INCy0L7Qt9C00YPRhdGDINC4INC30LXQvNC70LUgKi8KICAgIGFzeW5jIGdldERpc3RQcm9jY2VzcyhzZWxlY3RlZCwgZSkgewogICAgICBjb25zdCBwcm9taXNlcyA9IFtdOwogICAgICBzZWxlY3RlZC5mb3JFYWNoKChwb2ludCkgPT4gewogICAgICAgIHByb21pc2VzLnB1c2godGhpcy5jYWxjRGlzdGFuY2UoZSwgcG9pbnQuY29vcmRzKSk7CiAgICAgIH0pOwogICAgICBjb25zdCBhcnJheSA9IFtdOwogICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBsZXQgbWluID0gMDsKICAgICAgICBsZXQgbWluUmVzID0gcmVzWzBdOwogICAgICAgIHJlcy5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHsKICAgICAgICAgIGlmIChwb2ludCA8IG1pblJlcykgewogICAgICAgICAgICBtaW5SZXMgPSBwb2ludDsKICAgICAgICAgICAgbWluID0gaW5kZXg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1INC/0L4g0LLQvtC30LTRg9GF0YM6ICAnLCBzZWxlY3RlZFswXSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1INC/0L4g0LTQvtGA0L7Qs9Cw0Lw6ICAnLCBzZWxlY3RlZFttaW5dKTsKICAgICAgICAvLyB0aGlzLnRlc3RQb2ludHMgPSB7IGNhckNvb3JkOiBzZWxlY3RlZFttaW5dLCBhaXJDb29yZDogc2VsZWN0ZWRbMF0gfTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh7IGNhckNvb3JkOiBzZWxlY3RlZFttaW5dLCBhaXJDb29yZDogc2VsZWN0ZWRbMF0gfSk7CiAgICAgICAgLy8gYXJyYXkucHVzaCh7IGNhckNvb3JkOiBzZWxlY3RlZFttaW5dLCBhaXJDb29yZDogc2VsZWN0ZWRbMF0gfSk7CiAgICAgICAgLy8gcmV0dXJuIHt9OwogICAgICAgIHRoaXMucm91dGVDYXJEaXN0YW5jZShlLCBzZWxlY3RlZFttaW5dLCByZXNbbWluXSk7CiAgICAgICAgdGhpcy5yb3V0ZUFpckRpc3RhbmNlKGUsIHNlbGVjdGVkWzBdKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBhcnJheTsKICAgIH0sCiAgICAvKiDRgdC+0LfQtNCw0L3QuNC1INC/0YPRgtC4INC90LAg0LrQsNGA0YLQtSDQtNC70Y8g0LDQstGC0L4gKi8KICAgIHJvdXRlQ2FyRGlzdGFuY2UoZSwgc2VsZWN0LCBkaXN0KSB7CiAgICAgIHRoaXMudGVzdFBvaW50cy5jYXJDb29yZCA9IHNlbGVjdDsKICAgICAgdGhpcy50ZXN0UG9pbnRzLmNhckRpc3RhbmNlID0gZGlzdDsKICAgICAgY29uc29sZS5sb2coc2VsZWN0KTsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIHltYXBzLnJvdXRlKFtlLmdldCgnY29vcmRzJyksIHNlbGVjdC5jb29yZHNdKS50aGVuKChyb3V0ZXIpID0+IHsKICAgICAgICBpZiAodGhpcy5yb3V0ZSkgdGhpcy5nbG9iYWxNYXAuZ2VvT2JqZWN0cy5yZW1vdmUodGhpcy5yb3V0ZSk7CiAgICAgICAgdGhpcy5yb3V0ZSA9IHJvdXRlci5nZXRQYXRocygpOwogICAgICAgIHRoaXMucm91dGUub3B0aW9ucy5zZXQoeyBzdHJva2VXaWR0aDogNSwgc3Ryb2tlQ29sb3I6ICcyMjdmMDUnLCBvcGFjaXR5OiAwLjcgfSk7CiAgICAgICAgdGhpcy5nbG9iYWxNYXAuZ2VvT2JqZWN0cy5hZGQodGhpcy5yb3V0ZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qINGB0L7Qt9C00LDQvdC40LUg0L/Rg9GC0Lgg0L3QsCDQutCw0YDRgtC1INC/0L4g0LLQvtC30LTRg9GF0YMgKi8KICAgIHJvdXRlQWlyRGlzdGFuY2UoZSwgc2VsZWN0KSB7CiAgICAgIHRoaXMudGVzdFBvaW50cy5haXJDb29yZCA9IHNlbGVjdDsKICAgICAgY29uc29sZS5sb2coc2VsZWN0KTsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGNvbnN0IG15R2VvT2JqZWN0ID0gbmV3IHltYXBzLkdlb09iamVjdCh7CiAgICAgICAgZ2VvbWV0cnk6IHsKICAgICAgICAgIHR5cGU6ICdMaW5lU3RyaW5nJywKICAgICAgICAgIGNvb3JkaW5hdGVzOiBbZS5nZXQoJ2Nvb3JkcycpLCBzZWxlY3QuY29vcmRzXSwKICAgICAgICB9LAogICAgICB9LCB7CiAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMDAwMDAwJywKICAgICAgICBzdHJva2VXaWR0aDogNCwKICAgICAgICBzdHJva2VTdHlsZTogJzEgNScsCiAgICAgIH0pOwogICAgICBpZiAodGhpcy5haXJSb3V0ZSkgdGhpcy5nbG9iYWxNYXAuZ2VvT2JqZWN0cy5yZW1vdmUodGhpcy5haXJSb3V0ZSk7CiAgICAgIHRoaXMuYWlyUm91dGUgPSBteUdlb09iamVjdDsKICAgICAgdGhpcy5nbG9iYWxNYXAuZ2VvT2JqZWN0cy5hZGQodGhpcy5haXJSb3V0ZSk7CiAgICB9LAogICAgLy8gb3Blbk5vdGlmaWNhdGlvbigpIHsKICAgIC8vICAgY29uc3Qga2V5ID0gYG9wZW4ke0RhdGUubm93KCl9YDsKICAgIC8vICAgbm90aWZpY2F0aW9uLm9wZW4oewogICAgLy8gICAgIG1lc3NhZ2U6ICfQktGLINCy0LXRgNC90L4g0LLRi9Cx0YDQsNC70Lgg0LDQtNGA0LXRgT8gJwogICAgLy8gICAgICAgICAgICAgKyBgJHt0aGlzLmFkZHJlc3N9YCwKICAgIC8vICAgICBidG46IChoKSA9PiBoKAogICAgLy8gICAgICAgJ2EtYnV0dG9uJywKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgcHJvcHM6IHsKICAgIC8vICAgICAgICAgICB0eXBlOiAncHJpbWFyeScsCiAgICAvLyAgICAgICAgICAgc2l6ZTogJ3NtYWxsJywKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgLy8gb246IHsKICAgIC8vICAgICAgICAgLy8gICBjbGljazogKCkgPT4gdGhpcy4kbm90aWZpY2F0aW9uLmNsb3NlKGtleSksCiAgICAvLyAgICAgICAgIC8vIH0sCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgJ0NvbmZpcm0nLAogICAgLy8gICAgICksCiAgICAvLyAgICAga2V5LAogICAgLy8gICB9KTsKICAgIC8vICAgY29uc29sZS5sb2coJ1RFRUVFRUVFRUVFRVNUJyk7CiAgICAvLyB9LAogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGF3YWl0IGxvYWRZbWFwKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <yandex-map\n            :zoom=\"zoom\"\n            style=\"width: 100%; max-width: 100%; height: 98vh;\"\n            :coords= \"coords.length ? coords : [55.7521833, 37.613614]\"\n            @click=\"onClick\"\n            @map-was-initialized=\"initMap\"\n    >\n      <ymap-marker\n              :coords=\"coords\"\n              marker-id=\"1\"\n              hint-content=\"some hint\"\n              :mouseenter=\"{color: '#1890ff', opacity: 1}\"\n      />\n      <ymap-marker\n              :marker-id=\"1234\"\n              marker-type=\"polygon\"\n              :coords=\"[polygon,[]]\"\n              circle-radius=\"16000\"\n              :marker-fill=\"{color: '#1890ff', opacity: 0.7}\"\n              :marker-stroke=\"{color: '#1890ff', width: 1}\"\n              @click=\"onClick\"\n      ></ymap-marker>\n    </yandex-map>\n<!--    <a-button type=\"primary\" @click=\"openNotification\">-->\n<!--      Open the notification box-->\n<!--    </a-button>-->\n  </div>\n</template>\n\n<script>\nimport { yandexMap, loadYmap, ymapMarker } from 'vue-yandex-maps';\nimport { debounce, sortBy } from 'lodash';\n// import { notification } from 'ant-design-vue';\nimport mkadArray from './mkad';\n\nexport default {\n  components: { yandexMap, ymapMarker },\n  data() {\n    return {\n      opt: 0.4,\n      coords: [],\n      address: null,\n      polygon: mkadArray,\n      globalMap: null,\n      route: null,\n      airRoute: null,\n      zoom: 12,\n      points: 5,\n      testPoints: {},\n    };\n  },\n  methods: {\n    // notification,\n    debounce,\n    async onClick(e) {\n      this.coords = e.get('coords');\n      // this.openNotification();\n      this.getAdress();\n      // console.log(e);\n      const closestDistance = await this.calcClosestDistance(e);\n      const firstCoords = this.setRoute(e, closestDistance);\n      // const calcCoords =\n      this.getDistProccess(firstCoords, e);\n      console.log('1: ', this.testPoints);\n      this.getInfo();\n      // this.routeCarDistance(e, calcCoords[0].carCoord);\n      // console.log('2: ', calcCoords.airCoord);\n      // this.routeAirDistance(e, calcCoords[0].airCoord);\n      // console.log('3');\n      return true;\n    },\n    getInfo() {\n      console.log(\n        'координаты:  ', this.coords, '\\n',\n        'координаты ближайшей по земле:  ', this.testPoints.carCoord, '\\n',\n        'координаты ближайшей по воздуху:  ', this.testPoints.airCoord, '\\n',\n        'дистанция по земле:   ', this.testPoints.airDistance, '\\n',\n        'дистанция по воздуху:   ', this.testPoints.carDistance, '\\n',\n        'адрес:   ', this.testPoints.address,\n      );\n    },\n    /* сохранение карты в переменную */\n    initMap(map) {\n      this.globalMap = map;\n    },\n    /* загрузка модуля yandex api vue для работы с ymaps */\n    async geocoder() {\n      await loadYmap();\n    },\n    /* получение адреса по координатам */\n    async getAdress() {\n      // eslint-disable-next-line no-undef\n      ymaps.geocode(this.coords)\n        .then((res) => {\n          this.address = res.geoObjects.get(0)\n            .getAddressLine();\n        });\n    },\n    /* расчет ближайшего расстояния по воздуху */\n    calcClosestDistance(e) {\n      const currentPoint = e.get('coords');\n      const object = [];\n      this.polygon.forEach(async (coords) => {\n        const r = 6371; // Радиус земли\n        const dLat = (currentPoint[0].toFixed(6) - coords[0]) * (Math.PI / 180);\n        const dLon = (currentPoint[1].toFixed(6) - coords[1]) * (Math.PI / 180);\n        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2)\n        // eslint-disable-next-line max-len\n                  + Math.cos(coords[0] * (Math.PI / 180)) * Math.cos(currentPoint[0] * (Math.PI / 180))\n                  * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        const distance = r * c;\n        object.push({ distance, coords });\n      });\n      return object;\n    },\n    /* расчет ближайшего расстояния по земле */\n    async calcDistance(e, coords) {\n      // eslint-disable-next-line no-undef\n      const dis = await ymaps.route([e.get('coords'), coords]);\n      return dis.getLength();\n    },\n    /* выбор n(point) ближайших точек */\n    setRoute(e, distances) {\n      const result = sortBy(distances, 'distance').slice(0, this.points);\n      this.testPoints.airDistance = result[0].distance * 1000;\n      return result;\n    },\n    /* выбор 2 ближайших точек: для расчета по воздуху и земле */\n    async getDistProccess(selected, e) {\n      const promises = [];\n      selected.forEach((point) => {\n        promises.push(this.calcDistance(e, point.coords));\n      });\n      const array = [];\n      await Promise.all(promises).then((res) => {\n        console.log(res);\n        let min = 0;\n        let minRes = res[0];\n        res.forEach((point, index) => {\n          if (point < minRes) {\n            minRes = point;\n            min = index;\n          }\n        });\n        // console.log('Расстояние по воздуху:  ', selected[0]);\n        // console.log('Расстояние по дорогам:  ', selected[min]);\n        // this.testPoints = { carCoord: selected[min], airCoord: selected[0] };\n        // console.log({ carCoord: selected[min], airCoord: selected[0] });\n        // array.push({ carCoord: selected[min], airCoord: selected[0] });\n        // return {};\n        this.routeCarDistance(e, selected[min], res[min]);\n        this.routeAirDistance(e, selected[0]);\n      });\n      return array;\n    },\n    /* создание пути на карте для авто */\n    routeCarDistance(e, select, dist) {\n      this.testPoints.carCoord = select;\n      this.testPoints.carDistance = dist;\n      console.log(select);\n      // eslint-disable-next-line no-undef\n      ymaps.route([e.get('coords'), select.coords]).then((router) => {\n        if (this.route) this.globalMap.geoObjects.remove(this.route);\n        this.route = router.getPaths();\n        this.route.options.set({ strokeWidth: 5, strokeColor: '227f05', opacity: 0.7 });\n        this.globalMap.geoObjects.add(this.route);\n      });\n    },\n    /* создание пути на карте по воздуху */\n    routeAirDistance(e, select) {\n      this.testPoints.airCoord = select;\n      console.log(select);\n      // eslint-disable-next-line no-undef\n      const myGeoObject = new ymaps.GeoObject({\n        geometry: {\n          type: 'LineString',\n          coordinates: [e.get('coords'), select.coords],\n        },\n      }, {\n        strokeColor: '#000000',\n        strokeWidth: 4,\n        strokeStyle: '1 5',\n      });\n      if (this.airRoute) this.globalMap.geoObjects.remove(this.airRoute);\n      this.airRoute = myGeoObject;\n      this.globalMap.geoObjects.add(this.airRoute);\n    },\n    // openNotification() {\n    //   const key = `open${Date.now()}`;\n    //   notification.open({\n    //     message: 'Вы верно выбрали адрес? '\n    //             + `${this.address}`,\n    //     btn: (h) => h(\n    //       'a-button',\n    //       {\n    //         props: {\n    //           type: 'primary',\n    //           size: 'small',\n    //         },\n    //         // on: {\n    //         //   click: () => this.$notification.close(key),\n    //         // },\n    //       },\n    //       'Confirm',\n    //     ),\n    //     key,\n    //   });\n    //   console.log('TEEEEEEEEEEEST');\n    // },\n  },\n  async mounted() {\n    await loadYmap();\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}